var ItemApp = angular.module('ItemApp', ['ngRoute','ItemControllers']);
replacestart = $('#valueitem').attr('value');

ItemApp.config(['$locationProvider', '$routeProvider', function($locationProvider, $routeProvider) {
  $locationProvider.hashPrefix('!');
  $routeProvider.
  when('/list', {
    template: '<div style="background-color: rgb(158, 63, 63);font-size: 1rem;padding: 0.6rem;text-align: center;"><strong>You are currently using a live yet uncompleted version of the site.</strong><br/> The finalized version is still a work in progress. Certain functions and capabilities have been added or disabled for testing purposes.</div>'+
	'<table class="itemtable"> <thead> 	<th class="itemcol"></th> 	<th width="20%">Name</th> <th>Trade</th>	<th width="80px">Level</th> 	<th>ATT</th><th>MATT</th> 	<th>Balance</th> <th>Critical</th> <th>Atk. Spd.</th><th>STR</th><th>AGI</th><th>WIL</th> <th width="60%">Recipe (This column will be deleted later)</th></thead> <tbody> 	<tr class="itemlist" ng-repeat="item in ItemVariable | filter : ' + filter + '"> 		<td><img class="tableicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{item.Icon}})"></td> 		<td class="name" width="20%"><a href="http://db.vindictusinn.com/db#!/item/{{ItemVariable.indexOf(item)}}" class="{{item.Rarity}} linkname" value="{{item.ItemClass}}">{{item.ItemClass}}</a>'+
	'<div class="hidetooltip"><div class="border" id="{{item.ItemClass}}"> 	<div class="itemtooltip"> 				 		<div class="icon"> 			<img class="itemicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{item.Icon}})"/> 			<span class="{{item.Rarity}} rarity">{{item.ItemClass}}</span> 			<span class="bubble"> 				<span class="itemtype">{{item.TradeCategorySub}}, {{item.TradeCategory}}</span> 				<span id="sell">Sell Price</span> 				<span class="right"><span class="number">{{item.SellPrice}}</span><img src="http://i.imgur.com/Hq3oGZI.png" id="goldsack"></span> 			</span> 					 			<span class="bubble {{item.Rarity}}">{{item.Rarity}} 				<span class="right stat weight" value="{{item.Weight}}"><span id="changeweight">{{item.Weight}}</span> stones</span> 			</span> 				 		</div> 			 		<span class="stat" id="att" value="{{item.ATK}}">ATT +<span class="number">{{item.ATK}}</span></span> 			 		<span class="stat" id="pvpatt" value="{{item.PVP_ATK}}">PVP ATT +<span class="number">{{item.PVP_ATK}}</span></span> 			 		<span class="stat" id="matt" value="{{item.MATK}}">MATT +<span class="number">{{item.MATK}}</span></span> 			 		<span class="stat" id="pvpmatt" value="{{item.PVP_MATK}}">PVP MATT +<span class="number">{{item.PVP_MATK}}</span></span> 			 		<span class="stat" id="balance" value="{{item.Balance}}">Balance +<span class="number">{{item.Balance}}</span></span> 			 		<span class="stat" id="crit" value="{{item.Critical}}">Critical +<span class="number">{{item.Critical}}</span></span> 			 		<span class="stat" id="atkspd" value="{{item.ATK_Speed}}">Attack Speed +<span class="number">{{item.ATK_Speed}}</span></span> 			 		<span class="stat" id="def" value="{{item.DEF}}">DEF +<span class="number">{{item.DEF}}</span></span> 			 		<span class="stat" id="pvpdef" value="{{item.PVP_DEF}}">PVP DEF +<span class="number">{{item.PVP_DEF}}</span></span> 			 		<span class="stat" id="str" value="{{item.STR}}">STR +<span class="number">{{item.STR}}</span></span> 		<span class="stat" id="dex" value="{{item.DEX}}">AGI +<span class="number">{{item.DEX}}</span></span> 		<span class="stat" id="int" value="{{item.INT}}">INT +<span class="number">{{item.INT}}</span></span> 			 		<span class="stat" id="wil" value="{{item.WILL}}">WIL +<span class="number">{{item.WILL}}</span></span> 			 		<span class="stat" id="luck" value="{{item.LUCK}}">Luck +<span class="number">23{{item.LUCK}}</span></span> 			 		<span class="stat" id="hp" value="{{item.HP}}">HP +{{item.HP}}</span> 			 		<span class="stat" id="stam" value="{{item.STAMINA}}">Stamina +{{item.STAMINA}}</span> 			 		<span class="stat" id="critres" value="{{item.Res_Critical}}">Critical Resistance +<span class="number">{{item.Res_Critical}}</span></span> 			 		<span class="stat" id="movspd" value="{{item.TOWN_SPEED}}">Movement Speed +{{item.TOWN_SPEED}}</span> 			 		<div class="containres"> 				 			<span class="restriction classres">Only for <span class="classresvalue">{{item.ClassRestriction}}</span></span>		 			<span class="restriction requlvl">For levels <span class="checkreqlvl">{{item.RequiredLevel}}</span> and above</span> 			<span class="restriction skilllvlres">Rank <span class="checkskillreq">{{item.RequiredSkill}}</span> <span class="skillrank" value="{{item.RequiredSkillRank}}">{{item.RequiredSkillRank}}</span> or above</span> 			 		</div> 			 		<span class="uses">{{item.Uses}}</span> 			 		<span class="desc">{{item.Desc}}</span> 			 		<span class="trade" value="{{item.TradeRestirction}}"></span> </div> 	</div> </div>' +
	'</td> 		 	<td class="centercell"><span value="{{item.TradeRestirction}}" class="eventcheck"></span></td>	<td class="centercell">{{item.RequiredLevel}}</td> 	<td class="centercell number">{{item.ATK}}</td> <td class="centercell number">{{item.MATK}}</td>	<td class="type centercell">{{item.Balance}}</td> 		<td class="subtype centercell">{{item.Critical}}</td><td class="subtype centercell">{{item.ATK_Speed}}</td><td class="subtype centercell">{{item.STR}}</td><td class="subtype centercell">{{item.DEX}}</td><td class="subtype centercell">{{item.WILL}}</td>' +
	'<td class="mats" width="60%"> 				<div class="absolutely"><div class="bordertool" ng-repeat="NPCRecipeQuantity in item.NPCRecipeQuantity track by $index"><span class="bottomright">{{NPCRecipeQuantity}}</span></div></div> 				<div class="absolutely"><a ng-repeat="NPCRecipe in item.NPCRecipe"><div class="tagname"" title="{{NPCRecipe}}"></div></a></div> 				<div class="listitem {{NPCRecipe}}" ng-repeat="NPCRecipe in item.NPCRecipe"></div> 		</td> </tr> </tbody> </table> ',
    controller: 'ListController'
  }).
  when('/item/:ItemID/', {
    template: '<h2 ng-model="ItemVariable" id ="valueitem" value="{{ItemVariable[whichItem].ItemClass}}" >{{ItemVariable[whichItem].ItemClass}}</h2> 	 <div class="border"> 	<div ng-model="ItemVariable" class="itemtooltip"> 				 		<div class="icon"> 			<img class="itemicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{ItemVariable[whichItem].Icon}})"/> 			<span class="{{ItemVariable[whichItem].Rarity}} rarity">{{ItemVariable[whichItem].ItemClass}}</span> 			<span class="bubble"> 				<span class="itemtype">{{ItemVariable[whichItem].TradeCategorySub}}, {{ItemVariable[whichItem].TradeCategory}}</span> 				<span id="sell">Sell Price</span> 				<span class="right"><span class="number">{{ItemVariable[whichItem].SellPrice}}</span><img src="http://i.imgur.com/Hq3oGZI.png" id="goldsack"></span> 			</span> 					 			<span class="bubble {{ItemVariable[whichItem].Rarity}}">{{ItemVariable[whichItem].Rarity}} 				<span class="right stat" id="weight" value="{{ItemVariable[whichItem].Weight}}"><span id="changeweight"></span> stones</span> 			</span> 				 		</div> 			 		<span class="stat" id="att" value="{{ItemVariable[whichItem].ATK}}">ATT +<span class="number">{{ItemVariable[whichItem].ATK}}</span></span> 			 		<span class="stat" id="pvpatt" value="{{ItemVariable[whichItem].PVP_ATK}}">PVP ATT +<span class="number">{{ItemVariable[whichItem].PVP_ATK}}</span></span> 			 		<span class="stat" id="matt" value="{{ItemVariable[whichItem].MATK}}">MATT +<span class="number">{{ItemVariable[whichItem].MATK}}</span></span> 			 		<span class="stat" id="pvpmatt" value="{{ItemVariable[whichItem].PVP_MATK}}">PVP MATT +<span class="number">{{ItemVariable[whichItem].PVP_MATK}}</span></span> 			 		<span class="stat" id="balance" value="{{ItemVariable[whichItem].Balance}}">Balance +<span class="number">{{ItemVariable[whichItem].Balance}}</span></span> 			 		<span class="stat" id="crit" value="{{ItemVariable[whichItem].Critical}}">Critical +<span class="number">{{ItemVariable[whichItem].Critical}}</span></span> 			 		<span class="stat" id="atkspd" value="{{ItemVariable[whichItem].ATK_Speed}}">Attack Speed +<span class="number">{{ItemVariable[whichItem].ATK_Speed}}</span></span> 			 		<span class="stat" id="def" value="{{ItemVariable[whichItem].DEF}}">DEF +<span class="number">{{ItemVariable[whichItem].DEF}}</span></span> 			 		<span class="stat" id="pvpdef" value="{{ItemVariable[whichItem].PVP_DEF}}">PVP DEF +<span class="number">{{ItemVariable[whichItem].PVP_DEF}}</span></span> 			 		<span class="stat" id="str" value="{{ItemVariable[whichItem].STR}}">STR +<span class="number">{{ItemVariable[whichItem].STR}}</span></span> 		<span class="stat" id="dex" value="{{ItemVariable[whichItem].DEX}}">AGI +<span class="number">{{ItemVariable[whichItem].DEX}}</span></span> 		<span class="stat" id="int" value="{{ItemVariable[whichItem].INT}}">INT +<span class="number">{{ItemVariable[whichItem].INT}}</span></span> 			 		<span class="stat" id="wil" value="{{ItemVariable[whichItem].WILL}}">WIL +<span class="number">{{ItemVariable[whichItem].WILL}}</span></span> 			 		<span class="stat" id="luck" value="{{ItemVariable[whichItem].LUCK}}">Luck +<span class="number">23{{ItemVariable[whichItem].LUCK}}</span></span> 			 		<span class="stat" id="hp" value="{{ItemVariable[whichItem].HP}}">HP +{{ItemVariable[whichItem].HP}}</span> 			 		<span class="stat" id="stam" value="{{ItemVariable[whichItem].STAMINA}}">Stamina +{{ItemVariable[whichItem].STAMINA}}</span> 			 		<span class="stat" id="critres" value="{{ItemVariable[whichItem].Res_Critical}}">Critical Resistance +<span class="number">{{ItemVariable[whichItem].Res_Critical}}</span></span> 			 		<span class="stat" id="movspd" value="{{ItemVariable[whichItem].TOWN_SPEED}}">Movement Speed +{{ItemVariable[whichItem].TOWN_SPEED}}</span> 			 		<div class="containres"> 				 			<span class="restriction" id="classres">Only for <span id="classresvalue">{{ItemVariable[whichItem].ClassRestriction}}</span></span>		 			<span class="restriction" id="requlvl">For levels <span id="checkreqlvl">{{ItemVariable[whichItem].RequiredLevel}}</span> and above</span> 			<span class="restriction" id="skilllvlres">Rank <span id="checkskillreq">{{ItemVariable[whichItem].RequiredSkill}}</span> {{ItemVariable[whichItem].RequiredSkillRank}} or above</span> 			 		</div> 			 		<span class="uses">{{ItemVariable[whichItem].Uses}}</span> 			 		<span class="desc">{{ItemVariable[whichItem].Desc}}</span> 			 		<span class="trade" value="{{ItemVariable[whichItem].TradeRestirction}}"></span> </div> 	</div> 		 	<div class="moreinfobubble"> 		<h2>Additional Info</h2> 		<ul> 			<li><strong>Purchase Price (each):</strong> <br />{{ItemVariable[whichItem].Price}} <img src="http://i.imgur.com/Hq3oGZI.png" style="vertical-align: middle;"></li> 			<li><strong>Stacks to:</strong> <br />{{ItemVariable[whichItem].MaxStack}}</li> 			<li><strong>QuickSlot Max Stack:</strong> <br />{{ItemVariable[whichItem].QuickSlotMaxStack}}</li> 			<li id="maxdura"><strong>Max Durability:</strong> <br /><span id="checkmaxdura"><span class="number">{{ItemVariable[whichItem].MaxDurability}}</span></span></li> 			<li id="armorhp"><strong>Armor HP:</strong> <br /><span id="checkarmorhp"><span class="number">{{ItemVariable[whichItem].ArmorHP}}</span></span></li> 		</ul> 	</div> <div id="tabs">	 	<ul> 		<li><a href="#tabs-1">Recipes</a></li> 		<li><a href="#tabs-2">Crafting Ingredients</a></li> 		<li><a href="#tabs-3">Expertise Ingredients</a></li><li><a href="#tabs-4">Comments</a></li> 		<li><a href="#tabs-5">Screenshots</a></li> 	</ul> 	<div class="usewindow" id="tabs-1"> ' +
	'<h2>NPC Recipes <input class="mainiteminput" style="display:none;" ng-model="mainquery" ng-init="mainquery = &#39;Loading...&#39;" name="search"></h2>'+
	'<table> 			<thead> 				<th class="itemcol"></th> 				<th  width="20%">Name</th> 				<th>Type</th> 				<th>Subtype</th> 				<th>Level</th> 			 				<th>Gold Fee</th> 				<th style="width: 60% !important;">Crafting Recipe</th> 			</thead> 			<tbody> 			<tr ng-repeat="item in ItemVariable | filter : {&#39;ItemClass&#39;:mainquery}:true"> 				<td><img class="tableicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{item.Icon}})"></td> 				<td class="name"><a href="http://db.vindictusinn.com/db#!/item/{{ItemVariable.indexOf(item)}}" class="{{item.Rarity}}">{{item.ItemClass}}</a>'+
	'<div class="craftable">Crafted by <span class="NPCCraft">{{item.NPCCraft}}</span> after completing <span class="UnlockBattle">{{item.UnlockBattle||TBA}}</span></div>'+
	'</td> 				<td class="centercell">{{item.TradeCategory}}</td> 				<td class="centercell">{{item.TradeCategorySub}}</td> 				<td class="centercell">{{item.RequiredLevel}}</td> 							<td class="centercell">{{item.NPCFee}} <img src="http://i.imgur.com/Hq3oGZI.png"></td> 				<td> 					<div class="absolutely"> 						<div class="bordertool" ng-repeat="NPCRecipeQuantity in item.NPCRecipeQuantity track by $index"> 							<span class="bottomright">{{NPCRecipeQuantity}}</span> 						</div> 					</div> 				 					<div class="absolutely"> 						<div class="tagname" ng-repeat="NPCRecipe in item.NPCRecipe" title="{{NPCRecipe}}"> 						</div> 					</div> 				 					<div class="listitem {{NPCRecipe}}" ng-repeat="NPCRecipe in item.NPCRecipe"> 					</div> 		 				</td> 			</tr> 			</tbody> 		</table>'+
	'<h2>Expertise Recipes <input class="mainiteminput" style="display:none;" ng-model="mainquery" ng-init="mainquery = &#39;Loading...&#39;" name="search"></h2> 	<table> 			<thead> 				<th class="itemcol"></th> 				<th  width="20%">Name</th> 				<th>Type</th> 				<th>Subtype</th> 				<th>Level</th> 				<th>Rec. Prof.</th> 				<th>Expertise</th> 				<th style="width: 60% !important;">Prof Recipe</th> 			</thead> 			<tbody> 			<tr ng-repeat="item in ItemVariable | filter : {&#39;ItemClass&#39;:mainquery}:true"> 				<td><img class="tableicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{item.Icon}})"></td> 				<td class="name"><a href="http://db.vindictusinn.com/db#!/item/{{ItemVariable.indexOf(item)}}" class="{{item.Rarity}}">{{item.ItemClass}}</a></td> 				<td class="centercell">{{item.TradeCategory}}</td> 				<td class="centercell">{{item.TradeCategorySub}}</td> 				<td class="centercell">{{item.RequiredLevel}}</td> 				<td class="centercell">{{item.ExperienceRequired}}</td> 				<td class="centercell">{{item.ManufactureID}}</td> 				<td> 					<div class="absolutely"> 						<div class="bordertool" ng-repeat="ProfRecipeQuantity in item.ProfRecipeQuantity track by $index"> 							<span class="bottomright">{{ProfRecipeQuantity}}</span> 						</div> 					</div> 				 					<div class="absolutely"> 						<div class="tagname" ng-repeat="ProfRecipe in item.ProfRecipe" title="{{ProfRecipe}}"> 						</div> 					</div> 				 					<div class="listitem {{ProfRecipe}}" ng-repeat="ProfRecipe in item.ProfRecipe"> 					</div> 		 				</td> 			</tr> 			</tbody> 		</table> 	</div> 	<div class="usewindow" id="tabs-2"> 	<h2>Used in Crafting</h2> 	<table> 			<thead> 				<th width="20%">Name</th> 				<th>Type</th> 				<th>Subtype</th> 				<th>Level</th> 				<th>Rec. Prof.</th> 				<th width="60%">Prof Recipe</th> 			</thead> 			<tbody> 			<tr ng-repeat="item in ItemVariable | filter : {&#39;ProfRecipe&#39;:query}:true"> 				<td width="20%">{{item.ItemClass}}</td> 				<td>{{item.TradeCategory}}</td> 				<td>{{item.TradeCategorySub}}</td> 				<td>{{item.RequiredLevel}}</td> 				<td>{{item.ExperienceRequired}}</td> 				<td width="60%"> 					<div class="absolutely"> 						<div class="bordertool" ng-repeat="ProfRecipeQuantity in item.ProfRecipeQuantity track by $index"> 							<span class="bottomright">{{ProfRecipeQuantity}}</span> 						</div> 					</div> 				 					<div class="absolutely"> 						<div class="tagname" ng-repeat="ProfRecipe in item.ProfRecipe" title="{{ProfRecipe}}"> 						</div> 					</div> 				 					<div class="listitem {{ProfRecipe}}" ng-repeat="ProfRecipe in item.ProfRecipe"> 					</div> 		 				</td> 			</tr> 			</tbody> 		</table> 	</div> 	<div class="usewindow" id="tabs-3"> 	<h2>Used in Expertise <input class="iteminput" ng-model="query" ng-init="query = &#39;Loading...&#39;" name="search"></h2> 	 		<table> 			<thead>  <th></th>				<th  width="20%">Name</th> 				<th>Type</th> 				<th>Subtype</th> 				<th>Level</th> 				<th>Rec. Prof.</th> 				<th style="width: 60% !important;">Prof Recipe</th> 			</thead> 			<tbody> 			<tr ng-repeat="item in ItemVariable | filter : {&#39;ProfRecipe&#39;:query}:true"> 		<td><img class="tableicon" src="http://i.imgur.com/Cv2JSPy.png" style="background-image:url({{item.Icon}})"></td>		<td class="name" style="width:20% !important;"><a href="http://db.vindictusinn.com/db#!/item/{{ItemVariable.indexOf(item)}}" class="{{item.Rarity}}">{{item.ItemClass}}</a></td> 				<td>{{item.TradeCategory}}</td> 				<td>{{item.TradeCategorySub}}</td> 				<td>{{item.RequiredLevel}}</td> 				<td>{{item.ExperienceRequired}}</td> 				<td style="width: 60% !important;"> 					<div class="absolutely"> 						<div class="bordertool" ng-repeat="ProfRecipeQuantity in item.ProfRecipeQuantity track by $index"> 							<span class="bottomright">{{ProfRecipeQuantity}}</span> 						</div> 					</div> 				 					<div class="absolutely"> 						<div class="tagname" ng-repeat="ProfRecipe in item.ProfRecipe" title="{{ProfRecipe}}"> 						</div> 					</div> 				 					<div class="listitem {{ProfRecipe}}" ng-repeat="ProfRecipe in item.ProfRecipe"> 					</div> 		 				</td> 			</tr> 			</tbody> 		</table>  	</div> 	<div class="usewindow" id="tabs-4"> 		<h2>Comments</h2> 	</div> 	<div class="usewindow" id="tabs-5"> 	<h2>Screenshots</h2> 	</div> </div> ',
    controller: 'DetailsController'
  }).
  otherwise({
    redirectTo: '/list'
  });
}]);